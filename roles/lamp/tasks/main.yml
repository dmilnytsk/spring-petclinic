---
  - name: Checking a simple command
    command: "whoami"
        
  - name: install Java
    apt: 
      name: default-jre, default-jdk
      state: present
    become: yes
       
  - name: Creates directory
    file:
      path: /opt/petclinic
      state: directory
    become: yes       

#  - name: Change ownership of folder
#    ansible.builtin.file:
#      path: /opt/petclinic
#      state: directory
#      recurse: yes
#      owner: ubuntu
#      group: ubuntu
  
  - name: Clone a github repository
    git:
      repo: https://github.com/dmilnytsk/spring-petclinic.git
      dest: /opt/petclinic
      clone: yes
      update: yes
      version: petclinic
    become: yes
  
  - template:
      src: application-mysql.properties.j2
      dest: /opt/petclinic/src/main/resources/application-mysql.properties
    become: yes
